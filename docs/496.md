# ðŸš€ LeetCode 496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I é¢˜è§£

---

## ðŸ“Œ é¢˜ç›®æè¿°
ç»™å®šä¸¤ä¸ªæ²¡æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ `nums1` å’Œ `nums2`ï¼Œå…¶ä¸­ `nums1` æ˜¯ `nums2` çš„å­é›†ã€‚è¦æ±‚æ‰¾åˆ° `nums1` ä¸­æ¯ä¸ªå…ƒç´ åœ¨ `nums2` ä¸­çš„ **ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ **ã€‚è‹¥ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ž `-1`ã€‚

**ç¤ºä¾‹**ï¼š
```python
è¾“å…¥: nums1 = [4,1,2], nums2 = [1,3,4,2]
è¾“å‡º: [-1,3,-1]
è§£é‡Š: 
- æ•°å­—4åœ¨nums2ä¸­æ²¡æœ‰æ›´å¤§çš„å…ƒç´ ã€‚
- æ•°å­—1åœ¨nums2ä¸­å³ä¾§ç¬¬ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ æ˜¯3ã€‚
- æ•°å­—2åœ¨nums2å³ä¾§æ²¡æœ‰æ›´å¤§çš„å…ƒç´ ã€‚
```

## ðŸ” æ ¸å¿ƒæ€è·¯
### ðŸŒŸ å•è°ƒæ ˆ + å“ˆå¸Œæ˜ å°„
1. å•è°ƒæ ˆï¼šç»´æŠ¤ä¸€ä¸ªä»Žæ ˆåº•åˆ°æ ˆé¡¶ å•è°ƒé€’å‡ çš„æ ˆï¼Œç”¨äºŽé«˜æ•ˆæ‰¾åˆ° nums2 ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚
2. å“ˆå¸Œæ˜ å°„ï¼šè®°å½• nums1 ä¸­æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½ç»“æžœå­˜æ”¾ä½ç½®ã€‚

### ä¸ºä»€ä¹ˆç”¨å•è°ƒæ ˆï¼Ÿ

- æš´åŠ›è§£æ³•éœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ éåŽ†åŽç»­å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚
- å•è°ƒæ ˆé€šè¿‡ ç©ºé—´æ¢æ—¶é—´ï¼Œå°†æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ° O(n)ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆä¸€æ¬¡ã€‚

## ðŸŽ¯ ç®—æ³•æ­¥éª¤
### 1ï¸âƒ£ é¢„å¤„ç†æ˜ å°„
```python
nums1_index = {num: i for i, num in enumerate(nums1)}
```
- å°† nums1 çš„å…ƒç´ ä¸Žå…¶ç´¢å¼•å»ºç«‹å“ˆå¸Œæ˜ å°„ï¼Œä¾‹å¦‚ nums1 = [4,1,2] ä¼šç”Ÿæˆ {4:0, 1:1, 2:2}ã€‚
- ä½œç”¨ï¼šåŽç»­æ‰¾åˆ° nums2 ä¸­çš„å…ƒç´ æ—¶ï¼Œèƒ½å¿«é€Ÿå®šä½åˆ°ç»“æžœæ•°ç»„çš„å¯¹åº”ä½ç½®ã€‚

###2ï¸âƒ£ éåŽ† nums2
```python
for cur in nums2:
    # å½“å‰å…ƒç´ æ¯”æ ˆé¡¶å¤§æ—¶è§¦å‘å¼¹å‡º
    while stack and cur > stack[-1]:
        val = stack.pop()
        res_idx = nums1_index[val]
        res[res_idx] = cur
    
    # ä»…å¤„ç†nums1ä¸­çš„å…ƒç´ 
    if cur in nums1_index:
        stack.append(cur)
```
- å¼¹å‡ºæ¡ä»¶ï¼šå½“é‡åˆ°æ¯”æ ˆé¡¶å¤§çš„å…ƒç´ æ—¶ï¼Œè¯´æ˜Žæ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
- å…¥æ ˆè§„åˆ™ï¼šåªå¤„ç† nums1 ä¸­å­˜åœ¨çš„å…ƒç´ ï¼Œå‡å°‘æ— æ•ˆæ“ä½œ

### 3ï¸âƒ£ ç»“æžœå¤„ç†
```python
res = [-1] * len(nums1)  # é»˜è®¤å€¼ä¸º-1

```
- æœªè¢«å¼¹å‡ºçš„æ ˆä¸­å…ƒç´ è‡ªåŠ¨ä¿æŒ -1ï¼Œæ— éœ€é¢å¤–å¤„ç†

## ðŸŽ¨ æµç¨‹å›¾

```mermaid
graph TD
    Start(å¼€å§‹éåŽ†nums2) --> Loop{å½“å‰å…ƒç´ cur}
    Loop -->|cur > stack[-1]| Pop[å¼¹å‡ºæ ˆé¡¶å…ƒç´ val]
    Pop --> Update[æ›´æ–°res: res[idx] = cur]
    Update --> Loop
    Loop -->|cur <= stack[-1]| Check{curåœ¨nums1ä¸­?}
    Check -->|æ˜¯| Push[å…¥æ ˆcur]
    Check -->|å¦| Continue[ç»§ç»­éåŽ†]
    Push --> Continue
    Continue --> End(éåŽ†ç»“æŸ)
```
## ä»£ç å®žçŽ°

```python
class Solution:
    def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -> List[int]:
        # å»ºç«‹nums1å…ƒç´ çš„ç´¢å¼•æ˜ å°„
        nums1_index = {num: i for i, num in enumerate(nums1)}
        res = [-1] * len(nums1)  # åˆå§‹åŒ–ç»“æžœæ•°ç»„
        
        stack = []  # å•è°ƒé€’å‡æ ˆï¼Œå­˜å‚¨å¾…åŒ¹é…çš„nums1å…ƒç´ 
        for cur in nums2:
            # å½“å‰å…ƒç´ æ¯”æ ˆé¡¶å¤§æ—¶ï¼Œå¼¹å‡ºå¹¶è®°å½•ç»“æžœ
            while stack and cur > stack[-1]:
                val = stack.pop()
                res_idx = nums1_index[val]
                res[res_idx] = cur
            # ä»…å½“curå±žäºŽnums1æ—¶å…¥æ ˆ
            if cur in nums1_index:
                stack.append(cur)
        return res
```

